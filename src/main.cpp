/*
  Credits:
    https://github.com/Lucaslhm/Flipper-IRDB    - all of the IR codes
    https://github.com/pr3y/Bruce               - the send functions
*/

#include "send.h"

#define IR_TX_PIN 6
#define AFTER_CODE_DELAY 30//ms

#define LED_PIN 8

int brightness = 0;
int step = 1;

void setup() {
  m_send_pin = IR_TX_PIN;

  pinMode(LED_PIN, OUTPUT);
}

void indicate_progress() {
  digitalWrite(LED_PIN, HIGH);
  delay(AFTER_CODE_DELAY);
  digitalWrite(LED_PIN, LOW);
}

void loop() {
  /* PRIORITY */
  
  // BENQ
  fn_send_nec_ext("40 40 00 00", "0A F5 00 00");
  fn_send_nec_ext("00 30 00 00", "4F B0 00 00");
  fn_send_nec_ext("00 30 00 00", "4E B1 00 00");
  indicate_progress();

  /*

    TVs

  */

  // LG, VIZIO
  fn_send_nec("04 00 00 00", "08 00 00 00");
  indicate_progress();

  // TCL
  fn_send_nec_ext("EA C7 00 00", "17 E8 00 00");
  fn_send_nec_ext("0F 00 00 00", "54 00 00 00");
  fn_send_rc5("0F 00 00 00", "54 00 00 00");
  fn_send_nec("0F 00 00 00", "54 00 00 00");
  indicate_progress();

  // Samsung
  fn_send_samsung("07 00 00 00", "02 00 00 00");
  fn_send_samsung("07 00 00 00", "e6 00 00 00");
  indicate_progress();


  // SONY
  fn_send_sony("01 00 00 00", "15 00 00 00", 12);
  fn_send_sony("01 00 00 00", "15 00 00 00", 15);
  fn_send_sony("01 00 00 00", "15 00 00 00", 20);
  indicate_progress();

  // HISENSE
  fn_send_nec_ext("00 BF 00 00", "0D F2 00 00");
  fn_send_nec_ext("86 05 00 00", "0F F0 00 00");
  fn_send_raw(38000, "9021 4377 655 452 654 452 654 1567 654 453 653 453 653 453 652 454 651 455 651 1568 654 1569 653 455 651 1570 652 1570 652 1570 652 1571 651 1572 649 480 626 481 624 482 623 1599 623 483 623 484 622 484 622 484 622 1601 621 1601 621 1601 621 484 622 1601 621 1601 621 1601 621 1601 621 39912 8910 2137 622 95435 8933 2137 622 95434 8934 2137 622 95434 8934 2137 622 95434 8934 2137 622 95434 8933 2137 622 95434 8933 2138 621 95436 8932 2138 621 95435 8933 2138 621 95435 8933 2137 622");
  fn_send_raw(38000, "976 723 1776 796 925 804 897 804 897 803 897 803 897 803 897 803 922 1610 919 783 1767 807 914 86103 921 778 1769 805 916 786 914 788 913 787 914 787 914 788 913 811 890 1617 914 787 1764 832 889 86082 920 778 1768 804 916 786 914 786 914 786 914 786 914 786 915 786 915 1616 915 786 1763 809 913");
  indicate_progress();

  // SHARP
  fn_send_nec_ext("00 7F 00 00", "0A F5 00 00");
  fn_send_raw(38000, "195 1833 300 766 280 760 275 790 276 737 309 731 304 1801 301 1804 309 731 304 1801 270 795 282 758 277 762 273 1832 270 769 246 45851 326 1780 302 739 307 785 282 732 303 736 310 1795 307 732 303 763 303 1775 307 733 334 1798 273 1832 270 1810 251 814 273 1780 281 43762 302 1804 309 758 277 737 330 762 284 730 305 734 301 1803 310 1796 306 733 302 1829 273 767 279 734 301 791 275 1804 278 762 253 45870 307 1798 304 763 272 767 279 787 279 760 275 1829 284 730 305 734 301 1804 309 757 278 1827 275 1804 278 1828 274 765 270 1835 278 43740 303 1776 306 787 279 760 275 765 281 759 307 758 277 1775 307 1799 303 736 299 1832 281 759 276 763 304 736 299 1832 281 733 302 45820 306 1800 302 764 282 758 277 788 278 762 284 1821 281 732 303 736 310 1796 307 733 302 1829 273 1806 276 1830 272 767 268 1837 245 43772 302 1778 304 789 277 762 284 756 279 786 249 765 301 1777 336 1770 301 764 282 1824 278 761 274 765 301 738 308 1824 278 761 274");
  fn_send_raw(38000, "352 1747 353 694 354 694 353 694 354 694 354 693 354 1747 354 1745 355 693 355 1746 354 693 355 691 357 691 356 1745 355 689 356 46388 358 1740 359 689 358 688 360 689 358 689 359 1741 358 688 359 689 359 1741 358 691 356 1743 356 1743 356 1742 357 690 357 1741 356 44286 261 1839 260 786 262 786 262 785 263 785 263 786 262 1838 262 1838 262 786 262 1839 261 786 262 784 264 787 261 1837 263 783 262 46491 261 1839 261 786 262 786 262 786 261 786 262 1839 261 786 262 786 262 1839 261 786 262 1838 262 1838 262 1838 262 786 262 1835 262");
  indicate_progress();

  // PANASONIC
  fn_send_kaseikyo("80 02 20 00", "D0 03 00 00");
  fn_send_kaseikyo("40 04 00 00", "10 0B CD B0");
  indicate_progress();

  // PHILIPS
  fn_send_rc6("00 00 00 00", "0C 00 00 00");
  indicate_progress();

  // TOSHIBA
  fn_send_nec("40 00 00 00", "12 00 00 00");
  fn_send_nec_ext("02 7D 00 00", "46 B9 00 00");
  indicate_progress();

  // SENCOR
  fn_send_nec("40 00 00 00", "0B 00 00 00");
  indicate_progress();

  // JVC
  fn_send_rc5("01 00 00 00", "0C 00 00 00");
  indicate_progress();

  // NEC
  fn_send_nec("38 00 00 00", "01 00 00 00");
  indicate_progress();

  // ROKU
  fn_send_nec_ext("EA C2 00 00", "03 FC 00 00");
  indicate_progress();

  // SANYO
  fn_send_nec("38 00 00 00", "12 00 00 00");
  indicate_progress();

  // GRUNDIG
  fn_send_rc5("00 00 00 00", "0C 00 00 00");
  indicate_progress();

  // HITACHI
  fn_send_rc5("03 00 00 00", "0C 00 00 00");
  indicate_progress();

  // MITSUBISHI
  fn_send_nec_ext("47 00 00 00", "02 00 00 00");
  indicate_progress();

  // OFA_8 One for all remote
  fn_send_raw(38000, "2762 793 534 358 530 358 530 794 534 794 981 379 533 354 532 356 530 357 505 383 505 382 506 382 506 383 505 383 505 384 503 385 502 386 501 388 499 389 498 390 497 391 943 389 495 834 495 394 494 122265 2760 796 529 384 503 385 502 825 502 826 947 385 498 391 496 392 496 392 496 392 496 393 495 393 495 393 495 393 495 393 495 393 495 393 495 393 495 393 495 393 495 393 942 389 495 834 495 394 494");
  indicate_progress();

  /*
  
    PROJECTORS

  */

  // ACER
  fn_send_nec_ext("08 13 00 00", "87 78 00 00");
  indicate_progress();

  // OPTOMA
  fn_send_nec("32 00 00 00", "02 00 00 00");
  fn_send_nec("32 00 00 00", "81 00 00 00");
  fn_send_nec_ext("4F 50 00 00", "02 FD 00 00");
  fn_send_nec("32 00 00 00", "2E 00 00 00");
  indicate_progress();

  // EPSON
  fn_send_nec_ext("83 55 00 00", "90 6F 00 00");
  indicate_progress();

  brightness = 0;
  delay(500);

  for (short i = 0; i < 4; ++i) {
    digitalWrite(LED_PIN, HIGH);
    delay(200);
    digitalWrite(LED_PIN, LOW);
    delay(200);
  }

  delay(200);
}
